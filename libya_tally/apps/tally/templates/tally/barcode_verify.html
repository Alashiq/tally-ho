{% extends 'base.html' %}

{% load i18n %}

{% block content %}

<h1>{{ header_text }}</h1>

<h4 class="headertxt">{% trans 'Enter Barcode' %}</h4>

<form id="result_form" method="post" action="" onsubmit="return barcodes_match();">
    <table class="formtable">{{ form.as_table}}
        <tr>
            <td></td>
            <td>
                <button type="submit" name="submit" class="btn btn-warning">{% trans "Submit" %}</button>
            </td>
        </tr>

        {% csrf_token %}
    </table>
</form>

{% endblock %}


{% block javascript %}

<script type="text/javascript">

    function barcodes_match() {
        var barcode = document.getElementById('id_barcode');
        var barcode_copy = document.getElementById('id_barcode_copy');
        if(barcode.value == barcode_copy.value){
            barcode_copy.parentNode.setAttribute('class', 'has-success');
            return true;
        }
        barcode_copy.parentNode.setAttribute('class', 'has-error');
        alert('{% trans "Barcodes do not match!" %}');
        return false;
    }

</script>
{% endblock %}
